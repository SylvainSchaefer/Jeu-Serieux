@startuml
'https://plantuml.com/class-diagram
skinparam style strictuml
skinparam classAttributeIconSize 0
skinparam classFontStyle Bold
hide empty members

Class mastermind.Combinaison{
+ <<create>> Combinaison(tailleCombinaison: Integer)
- combinaison: void
+ getCombinaison(): void
+ setCouleur(couleur: Couleurs, index: Integer)
+ getLength(): Integer
+ genererCombinaisonAleatoire(nbPionsDispo: Integer)

}

mastermind.Combinaison --> mastermind.Couleurs: setCouleur


Enum mastermind.Couleurs<<enum>> {
BLEU
ORANGE
ROUGE
VERT
VIOLET
JAUNE
NOIR
BLANC

}
Class mastermind.CustomScrollBarUI{
+ <<create>> CustomScrollBarUI()
{read only} - arcSize: Integer
# paintThumb(g: Graphics, c: JComponent, thumbBounds: Rectangle)
# paintTrack(g: Graphics, c: JComponent, trackBounds: Rectangle)
# getMinimumThumbSize(): Dimension
# getMaximumThumbSize(): Dimension
# createDecreaseButton(orientation: Integer): JButton
# createIncreaseButton(orientation: Integer): JButton

}



Class mastermind.GameController{
+ <<create>> GameController(plateau: Plateau, viewEnd: ViewEnd)





+ createPartie(nomJoueur: String, nbManches: Integer, nbPionsDispo: Integer, nbPionsCombinaison: Integer, nbTentatives: Integer, typeIndice: Integer)
+ gameStart()
+ validerTentative(tentative: Combinaison)
+ giveUpManche()

}

mastermind.GameController o-- "plateau"mastermind.Plateau
mastermind.GameController o-- "partie"mastermind.Partie
mastermind.GameController o-- "mancheActuelle"mastermind.Manche
mastermind.GameController o-- "tentativeActuelle"mastermind.Tentative
mastermind.GameController o-- "viewEnd"mastermind.ViewEnd
mastermind.GameController --> mastermind.Combinaison: validerTentative


Enum mastermind.Indice<<enum>> {
NOIR
BLANC
VIDE

}
Class mastermind.Main{
+ <<create>> Main()
{static} + main(args: void)

}



Class mastermind.Manche{
+ <<create>> Manche(nbPionsDispo: Integer, tailleCombinaison: Integer, nombreTentatives: Integer, obervers: MastermindObserver[*], typeIndice: Integer)

- nbTentativesMax: Integer
- tailleCombinaison: Integer
- nbPionsDispo: Integer
- typeIndice: Integer

- score: Integer


+ createTentative(): Tentative
+ addTentative(tentative: Tentative)
+ genererCombinaisonAleatoire()
+ verifierCombinaisonIndices(): Boolean
+ couleurDansCombinaison(combinaisonSecrete: Combinaison, couleur: Couleurs): Boolean
+ initCompteur(compteur: Couleurs[*])
+ getScore(): Integer
+ giveUp()
- notifyObserversStartTentative(nbPionsCombi: Integer)
- notifyOberserversNewManche(isWin: Boolean, nbTentatives: Integer)
- notifyOberserversAddTentativeUpdateIndice(tentative: Tentative, indices: void)

}

mastermind.Manche o-- "combinaisonSecrete"mastermind.Combinaison
mastermind.Manche o--- "listTentatives"mastermind.Tentative
mastermind.Manche o--- "listObservers"mastermind.MastermindObserver
mastermind.Manche o--- "compteurCouleurs"mastermind.Couleurs
mastermind.Manche --> mastermind.Tentative: addTentative
mastermind.Manche --> mastermind.Combinaison: couleurDansCombinaison
mastermind.Manche --> mastermind.Couleurs: couleurDansCombinaison
mastermind.Manche --> mastermind.Tentative: notifyOberserversAddTentativeUpdateIndice


Interface mastermind.MastermindObserver<<interface>> {
{abstract} + init(nbTentatives: Integer, nbPionsCombinaison: Integer, typeIndice: Integer, numManche: Integer)
{abstract} + showAvaibleColors(couleursDispo: void)
{abstract} + startTentative(nbPionsCombi: Integer)
{abstract} + addTentativeUpdateIndice(tentative: Tentative, indices: void, typeIndice: Integer, score: Integer)
{abstract} + newManche(isWin: Boolean, nbTentatives: Integer)

}

Class mastermind.Partie{
+ <<create>> Partie(observers: MastermindObserver[*], nbManches: Integer, nbPionsDispo: Integer, nbPionsCombinaison: Integer, nbTentatives: Integer, typeIndice: Integer)
- nbManches: Integer
- nbPionsDispo: Integer
- nbPionsCombinaison: Integer
- nbTentatives: Integer
- typeIndice: Integer
- mancheCount: Integer
- score: Integer
- tabScores: void


+ createManche(): Manche
+ updateScore()
+ getScore(): Integer
- notifyObserversShowAvaibleColors()
+ getManchesCount(): Integer
+ getNbManches(): Integer
+ getTabScores(): void
- notifyObserversInit(nbTentatives: Integer, nbPionsCombi: Integer)

}

mastermind.Partie o-- "mancheActuelle"mastermind.Manche
mastermind.Partie o--- "listObservers"mastermind.MastermindObserver


Class mastermind.Plateau{
+ <<create>> Plateau()


+ createPartie(nbManches: Integer, nbPionsDispo: Integer, nbPionsCombinaison: Integer, nbTentatives: Integer, typeIndice: Integer): Partie
+ setJoueur(nom: String)
+ addObserver(mastermindObserver: MastermindObserver)
+ getNomJoueur(): String

}

mastermind.Plateau o--- "listObservers"mastermind.MastermindObserver
mastermind.Plateau --> mastermind.MastermindObserver: addObserver


Class mastermind.Tentative{
+ <<create>> Tentative(tailleCombinaison: Integer)

+ indices: void
+ setCombinaisonCouleur(combinaisonCouleur: Combinaison)
+ getCombinaison(): Combinaison
+ getCouleurs(): void
+ getIndices(): void
+ setIndicesCouleurs(indice: Indice, index: Integer)

}

mastermind.Tentative o-- "combinaisonCouleur"mastermind.Combinaison
mastermind.Tentative --> mastermind.Combinaison: setCombinaisonCouleur
mastermind.Tentative --> mastermind.Indice: setIndicesCouleurs


Class mastermind.ViewEnd{
+ <<create>> ViewEnd()
+ end(nomJoueur: String, score: Integer, tabScore: void)
- animateBarVertical(barre: JProgressBar, valeurFinale: Integer)

}


mastermind.ViewEnd ---|> mastermind.Views
Class mastermind.ViewGame{
+ <<create>> ViewGame(controller: GameController)









- nbPionsCombi: Integer
- tentativeCount: Integer
- nbTentative: Integer
- width: Integer
- length: Integer
- pions: void
- emptyCells: void
+ init(nbTentatives: Integer, nbPionsCombinaison: Integer, typeIndice: Integer, numManche: Integer)
+ showAvaibleColors(couleursDispo: void)
+ startTentative(nbPionsCombi: Integer)
+ addTentativeUpdateIndice(tentative: Tentative, indices: void, typeIndice: Integer, score: Integer)
+ newManche(isWin: Boolean, nbTentatives: Integer)

}
mastermind.ViewGame ..|> mastermind.MastermindObserver

mastermind.ViewGame o-- "controller"mastermind.GameController
mastermind.ViewGame --> mastermind.Tentative: addTentativeUpdateIndice

mastermind.ViewGame ---|> mastermind.Views
Class mastermind.Views{
+ <<create>> Views(nom: String)

+ loadCustomFont(style: Integer, size: Integer): Font
+ setCustomFontForComponents(container: Container)
+ setCustomFontForComponents(container: Container, Xfont: Font)
+ setCustomFontForComponents(components: void)
+ setCustomFontForComponent(component: Component, Xfont: Font)

}



Class mastermind.ViewStart{
+ <<create>> ViewStart(controller: GameController)

+ setParameters()
- isValidNumber(text: String, typeField: Integer): Boolean

}

mastermind.ViewStart o-- "controller"mastermind.GameController

mastermind.ViewStart ---|> mastermind.Views

@enduml

